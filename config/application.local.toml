# Local development configuration for Sangita Grantha.
# Update database credentials and pg_home if your setup differs.

[database]
host = "localhost"
port = 5432
name = "sangita_grantha"
user = "postgres"
password = "postgres"
admin_db = "postgres"
admin_user = "postgres"
admin_password = "postgres"

[paths]
# pg_home is only required when using the CLI in "local" Postgres mode (pg_ctl/initdb).
# Default local dev uses Docker Compose (Postgres 15) and does not require pg_home.
pg_home = "/opt/homebrew/opt/postgresql@15"
# Use a repo-relative path so this file can be shared across developers/OSes.
# (Only used for local Postgres mode; Docker Compose is the default.)
pg_data = "database/db-data"

[migrations]
directory = "database/migrations"
seed_directory = "database/seed_data"

[roles]
admin_group = "grp_sangita_admin"
groups = [
  { name = "grp_sangita_admin", attributes = "NOLOGIN" },
  { name = "grp_sangita_editor", attributes = "NOLOGIN" },
  { name = "grp_sangita_reviewer", attributes = "NOLOGIN" }
]

[backend]
host = "0.0.0.0"
port = 8080
admin_token = "dev-admin-token"
token_ttl_seconds = 3600

[frontend]
api_url = "http://localhost:8080"

[storage]
upload_directory = "uploads"
public_base_url = "http://localhost:8080/uploads"
