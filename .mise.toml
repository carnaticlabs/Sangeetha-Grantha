# Mise configuration for Sangita Grantha (cross-OS toolchain pinning)
# 
# Installation:
#   1. Install mise: https://mise.jdx.dev/ (or: curl https://mise.run | sh)
#   2. Trust this config: mise trust
#   3. Install tools: mise install
#   4. Activate in shell: eval "$(mise activate zsh)" (add to ~/.zshrc for persistence)
#
# Usage:
#   - Tools are automatically activated when you cd into this directory
#   - Or manually activate: mise activate
#   - Check status: mise doctor
#
# Version Sync:
#   - Java: Must satisfy build.gradle.kts JVM toolchain (Java 25)
#   - Rust: Must match tools/sangita-cli/rust-toolchain.toml (1.93.0)
#   - Bun: Frontend package manager (1.3.7)
#   - Python: Must satisfy tools/krithi-extract-enrich-worker/pyproject.toml (>=3.11)
#   - Docker Compose: For database container management
#
# Note: Docker Desktop (macOS/Windows) or Docker Engine (Linux) must be installed
# separately as a system service. mise manages docker-compose CLI version only.

[tools]
# Prefer a modern JDK distribution. If mise fails to resolve this on your platform,
# you can change to a specific distribution/version supported by mise.
java = "temurin-25"

# Keep in sync with tools/sangita-cli/rust-toolchain.toml
rust = "1.93.0"

# Bun is used by modules/frontend/sangita-admin-web
bun = "1.3.7"

# Python is required for the extraction worker in tools/krithi-extract-enrich-worker
python = "3.11"

# Docker Compose for database container management
# Note: Docker Desktop/Engine must be installed separately (system requirement)
docker-compose = "latest"

[env]
_.file = "./config/postgres-local.env"
# Use a single mise-managed virtualenv for the Python extraction worker
_.python.venv = { path = ".venv", create = true }
